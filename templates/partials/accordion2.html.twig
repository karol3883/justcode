<div class="max-w-2xl mx-auto p-8 rounded">
    <div id="accordion-collapse" data-accordion="collapse">
        {% for signle_accordion in accordion_data %}
            {% if loop.first %}
                {% set additionalClass = 'rounded-t-xl' %}
            {% endif %}
            <div>
                <h2 class="js-accordion_element" id="accordion-collapse-heading-{{ loop.index }}" data-id="{{ loop.index }}">
                    <button type="button" class="{{ additionalClass }} flex items-center justify-between w-full p-5 font-bold text-left border {% if not loop.last %}border-b-0{% endif %} border-gray-600 bg-gray-400 focus:bg-cyan-200 focus:ring-2 focus:ring-cyan-600 focus:bg-gray-700 hover:text-white border-gray-700 hover:bg-gray-700 focus:text-white" data-accordion-target="#accordion-collapse-body-1" aria-expanded="true" aria-controls="accordion-collapse-body-1">
                        <span> {{ signle_accordion.title }}</span>
                        <svg data-accordion-icon class="w-6 h-6 rotate-180 shrink-0" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                    </button>
                </h2>
                <div id="accordion-collapse-body-{{ loop.index }}" class="hidden" aria-labelledby="accordion-collapse-heading-1">
                    <div class="p-5 font-light border {% if not loop.last %}border-b-0{% endif %} border-gray-200 border-gray-700 bg-gray-100 ">
                        <p class="mb-2">
                            {{ signle_accordion.description }}
                        </p>

                        {% if signle_accordion.skills is not empty %}
                            <ul class="w-48 text-sm font-medium rounded-lg border border-gray-200">
                                {% for skill in signle_accordion.skills %}
                                    <li class="py-2 px-4 w-full rounded-t-lg border-b border-gray-200">{{ skill }}</li>
                                {% endfor %}
                            </ul>
                        {% endif %}
                    </div>
                </div>
            </div>

            {% if loop.first %}
                {% set additionalClass = '' %}
            {% endif %}
        {% endfor %}


        <nav>
            <div>
                <div>
                    <button id="BAR_BTN" class="
        px-10 py-2 mt-10 mx-10 w-1/4 hover:bg-green-300 bg-green-200 transition-all">
                        button
                    </button>
                </div>
                {#    <div id="mobileMenu"#}
                {#        class="mx-10 p-5 border-4 border-black overflow-hidden text-xl w-1/4 transform origin-top duration-300 scale-y-0#}
                {#"#}
                {#    >#}
                {#        nananana#}
                {#    </div>#}

                <div id="mobileMenu" class="mx-10 p-5 border-4 border-black overflow-hidden text-xl w-1/4 transform origin-top duration-300 scale-y-0" aria-labelledby="accordion-collapse-heading-1">
                    <div class="p-5 font-light border border-gray-200 border-gray-700 bg-gray-100">
                        some extra text nanan
                    </div>
                </div>
            </div>
        </nav>

        <script>
            // nanan

            const bar_btn = document.getElementById('BAR_BTN');
            const mobileMenu2 = document.getElementById('mobileMenu')

            bar_btn.addEventListener('click',function()
                {
                    mobileMenu2.classList.toggle('transform');
                    mobileMenu2.classList.toggle('scale-y-0');
                }
            );


            // nana
            const accordionElements = document.getElementsByClassName('js-accordion_element');

            [...accordionElements].forEach((item, id) => {
                item.addEventListener('click', () => {

                    // Check is last element, if it is toggle border class
                    if (id + 1 === [...accordionElements].length) {
                        const btn = item.getElementsByTagName('button');
                        const closestbtn = [...btn].pop();
                        if (closestbtn) {
                            closestbtn.classList.toggle('border-b-0');
                        }
                    }

                    const svg = item.getElementsByTagName('svg');
                    const closestSvg = [...svg].pop();
                    if (closestSvg) {
                        closestSvg.classList.toggle('rotate-180');
                    }

                    const dataId = item.dataset.id;
                    const accordionDiv = document.getElementById(`accordion-collapse-body-${dataId}`);
                    accordionDiv.classList.toggle('hidden');
                })
            })
        </script>
    </div>
</div>