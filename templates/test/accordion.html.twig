{% extends 'base.html.twig' %}

{% block title %}Programowanie - PHP - JS - SQL{% endblock %}

{% block body %}
    <div class="container flex flex-row mx-auto max-w-7xl px-2 sm:px-6 lg:px-8 mt-4">
        <div class="overflow-hidden bg-white shadow sm:rounded-lg w-full">
            <div class="px-4 py-5 sm:px-6">
                <h3 class="text-lg font-medium leading-6 text-gray-900">O mnie</h3>
                <p class="mt-1 max-w-2xl text-sm text-gray-500">Personal details and application.</p>
            </div>
            <div class="border-t border-gray-200">
                <dl>
                    <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                        <dt class="text-sm font-medium text-gray-500">Technologie</dt>
                        <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0">
                            <div class="max-w-2xl mx-auto p-16 rounded">

                                <div id="accordion-collapse" data-accordion="collapse">

                                    {% for signle_accordion in accordion_data %}

                                        {% if loop.first %}
                                            {% set additionalClass = 'rounded-t-xl' %}
                                        {% endif %}


                                        <div>
                                            <h2 class="js-accordion_element" id="accordion-collapse-heading-{{ loop.index }}" data-id="{{ loop.index }}">
                                                <button type="button" class="{{ additionalClass }} flex items-center justify-between w-full p-5 font-medium text-left text-gray-500 border {% if not loop.last %}border-b-0{% endif %} border-gray-200 focus:ring-2 hover:text-white focus:ring-gray-500 border-gray-700 focus:bg-gray-700 hover:bg-gray-700 focus:ring-gray-500 focus:text-white" data-accordion-target="#accordion-collapse-body-1" aria-expanded="true" aria-controls="accordion-collapse-body-1">
                                                    <span> {{ signle_accordion.title }}</span>
                                                    <svg data-accordion-icon class="w-6 h-6 rotate-180 shrink-0" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                                                </button>
                                            </h2>
                                            <div id="accordion-collapse-body-{{ loop.index }}" class="hidden" aria-labelledby="accordion-collapse-heading-1">
                                                <div class="p-5 font-light border {% if not loop.last %}border-b-0{% endif %} border-gray-200 border-gray-700 bg-gray-100">
                                                    <p class="mb-2 text-gray-500 dark:text-gray-400">
                                                        {{ signle_accordion.description }}
                                                    </p>
                                                </div>
                                            </div>
                                        </div>

                                        {% if loop.first %}
                                            {% set additionalClass = '' %}
                                        {% endif %}
                                    {% endfor %}

{#                                    <div>#}
{#                                        <h2 class="js-accordion_element" id="accordion-collapse-heading-1" data-id="1">#}
{#                                            <button type="button" class="flex items-center justify-between w-full p-5 font-medium text-left text-gray-500 border border-b-0 border-gray-200 rounded-t-xl focus:ring-2 hover:text-white focus:ring-gray-500 border-gray-700 focus:bg-gray-700 hover:bg-gray-700 focus:ring-gray-500 focus:text-white" data-accordion-target="#accordion-collapse-body-1" aria-expanded="true" aria-controls="accordion-collapse-body-1">#}
{#                                                <span>Backend</span>#}
{#                                                <svg data-accordion-icon class="w-6 h-6 rotate-180 shrink-0" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>#}
{#                                            </button>#}
{#                                        </h2>#}
{#                                        <div id="accordion-collapse-body-1" class="hidden" aria-labelledby="accordion-collapse-heading-1">#}
{#                                            <div class="p-5 font-light border border-b-0 border-gray-200 border-gray-700 bg-gray-100">#}
{#                                                <p class="mb-2 text-gray-500 dark:text-gray-400">#}
{#                                                    PHP, Symfony, Laravel, Codeigniter#}
{#                                                </p>#}
{#                                            </div>#}
{#                                        </div>#}
{#                                    </div>#}

{#                                    <div>#}
{#                                        <h2 class="js-accordion_element" id="accordion-collapse-heading-2" data-id="2">#}
{#                                            <button type="button" class="flex items-center justify-between w-full p-5 font-medium text-left text-gray-500 border  border-gray-200  focus:ring-2 hover:text-white focus:ring-gray-500 border-gray-700 focus:bg-gray-700 hover:bg-gray-700 focus:ring-gray-500 focus:text-white" data-accordion-target="#accordion-collapse-body-1" aria-expanded="true" aria-controls="accordion-collapse-body-1">#}
{#                                                <span>Backend</span>#}
{#                                                <svg data-accordion-icon class="w-6 h-6 rotate-180 shrink-0" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>#}
{#                                            </button>#}
{#                                        </h2>#}
{#                                        <div id="accordion-collapse-body-2" class="hidden" aria-labelledby="accordion-collapse-heading-1">#}
{#                                            <div class="p-5 font-light border border-gray-200 border-gray-700 bg-gray-100">#}
{#                                                <p class="mb-2 text-gray-500 dark:text-gray-400">#}
{#                                                    PHP, Symfony, Laravel, Codeigniter#}
{#                                                </p>#}
{#                                            </div>#}
{#                                        </div>#}
{#                                    </div>#}

                                    <script>
                                        const accordionElements = document.getElementsByClassName('js-accordion_element');

                                        [...accordionElements].forEach((item, id) => {
                                            item.addEventListener('click', () => {

                                                // Check is last element, if it is toggle border class
                                                if (id + 1 === [...accordionElements].length) {
                                                    const btn = item.getElementsByTagName('button');
                                                    const closestbtn = [...btn].pop();
                                                    if (closestbtn) {
                                                        closestbtn.classList.toggle('border-b-0');
                                                    }
                                                }

                                                const svg = item.getElementsByTagName('svg');
                                                const closestSvg = [...svg].pop();
                                                if (closestSvg) {
                                                    closestSvg.classList.toggle('rotate-180');
                                                }

                                                const dataId = item.dataset.id;
                                                const accordionDiv = document.getElementById(`accordion-collapse-body-${dataId}`);
                                                accordionDiv.classList.toggle('hidden');
                                            })
                                        })
                                        console.log(accordionElements);
                                    </script>
                                </div>
                            </div>
                        </dd>
                    </div>
                </dl>
            </div>
        </div>
    </div>


{% endblock %}
